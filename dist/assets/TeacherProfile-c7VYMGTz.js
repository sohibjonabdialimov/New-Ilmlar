import{A as b,r as f,aw as g,u as N,b as E,z as y,j as e,F as l,D as n,w as i,aE as v,y as F}from"./index-DWW8--kq.js";import{t as I}from"./teacher_avatar-BnTJq1H-.js";import{N as w}from"./NewCourseCard-DcP29lFU.js";import{u as T}from"./useQueries-DTrpqV5n.js";import"./profile-CJRS_RRn.js";import"./index-BtCkUpiw.js";import"./formatPrice-DC00fQPP.js";const{TextArea:R}=i,O=()=>{const{control:r,getValues:x}=b(),{userData:a}=f.useContext(g),p=N(),u=async()=>{const s=x().EDITTEACHERPROFILE;console.log(s)},h=s=>{console.log(`selected ${s}`)},{data:o}=E(["GetTeacherAccount"],()=>y(a==null?void 0:a.id),{onSuccess:s=>{console.log(s.data.data)}},{enabled:!!(a!=null&&a.id)}),c=o==null?void 0:o.data.data,j=async s=>{const{data:t}=await F.get(`/api/courses/course/${s}/withouttoken`);return t},m=T(((c==null?void 0:c.courses)||[]).map(({id:s})=>({queryKey:["resource",s],queryFn:()=>j(s),enabled:!!s}))),d=m==null?void 0:m.map(s=>{var t;return(t=s==null?void 0:s.data)==null?void 0:t.data}).filter(s=>s!==void 0);return e.jsxs("div",{className:"py-7",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col justify-between sm:mb-16 mb-10 gap-4",children:[e.jsxs("div",{className:"flex sm:gap-5 gap-3",children:[e.jsx("img",{className:"sm:w-[142px] sm:h-[146px] w-[80px] h-[80px] rounded-full",src:a!=null&&a.profile_img?a==null?void 0:a.profile_img:I,alt:"Ilmlar o'qituvchisi rasmi"}),e.jsxs("div",{className:"flex flex-col justify-center sm:gap-1 gap-0.5 py-0",children:[e.jsxs("h1",{className:"text-main_color font-semibold sm:text-xl text-base mb-0",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),e.jsx("p",{className:"text-[#758195] sm:text-base text-xs font-medium",children:a==null?void 0:a.email}),e.jsxs("p",{className:"text-[#758195] sm:text-base text-xs font-semibold",children:["Username:"," ",e.jsx("span",{className:"font-normal",children:a==null?void 0:a.user_name})]})]})]}),e.jsx("div",{className:"sm:w-auto w-full",children:e.jsx("button",{onClick:()=>p("/upload-course"),className:"btn text-sm sm:p-[10px_30px] p-[8px_20px] w-full",children:"Kurs yuklash"})})]}),e.jsx("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px] sm:mb-16",children:e.jsx(l,{layout:"vertical",className:"sm:px-24 px-0 sm:pt-4 pt-2 pb-2 sm:pb-8 w-full",onSubmitCapture:s=>{s.preventDefault(),u()},children:e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"sm:col-span-1 col-span-2 grid grid-cols-2 gap-x-5",children:[e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Ism"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.firstname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Ismingizni kiriting...",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Familiya"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.lastname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Familiyangizni kiriting...",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Foydalanuvchi nomi"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.username",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Foydalanuvchi nomi",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Email"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.email",render:({field:s})=>e.jsx(i,{...s,type:"email",placeholder:"user@gmail.com",className:"w-full py-2.5 px-5 rounded-[10px]"})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Mutaxassislik"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.password",render:({field:s})=>e.jsx(v,{defaultValue:"lucy",...s,className:"w-full h-[40px] rounded-[10px]",onChange:h,options:[{value:"Dasturlash",label:"Dasturlash"},{value:"Dizayn",label:"Dizayn"},{value:"Biznes",label:"Biznes"},{value:"Fan va texnika",label:"Fan va texnika"},{value:"Shaxsiy rivojlanish",label:"Shaxsiy rivojlanish"}]})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Havola"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.link",render:({field:s})=>e.jsx(i,{...s,placeholder:"Havola",className:"w-full py-2.5 px-5 rounded-[10px]"})})})]}),e.jsxs("div",{className:"sm:col-span-1 col-span-2",children:[e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"O’zingiz haqingizda ma’lumot"}),children:e.jsx(n,{rules:{required:"Field is required"},control:r,name:"EDITTEACHERPROFILE.firstname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(R,{...s,placeholder:"O’zingiz haqingizda ma’lumot yozing...",className:"text-base",style:{height:150,resize:"none"}})})})}),e.jsx("div",{children:e.jsx("button",{className:"btn text-sm p-[5px_25px]",children:"Profilni tahrirlash"})})]})]})})}),e.jsxs("div",{className:"relative mt-14 sm:mb-5 mb-10",children:[e.jsx("h1",{className:"title mb-8",children:"Kurslar"}),e.jsx("div",{className:"grid sm:grid-cols-4 grid-cols-1 justify-between w-full gap-5 gap-y-7",children:d==null?void 0:d.map(s=>e.jsx(w,{item:s,role:"teacher"},s.id))})]})]})};export{O as default};
