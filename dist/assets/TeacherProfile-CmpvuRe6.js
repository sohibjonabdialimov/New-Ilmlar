import{z as g,r as x,av as N,T as y,u as E,b as v,y as F,j as e,F as l,A as r,v as i,aC as I,x as T}from"./index-TMREzuzq.js";import{u as w,t as C}from"./teacher_avatar-C7GshRmZ.js";import{N as R}from"./NewCourseCard-CI8i9D-Z.js";import"./profile-CJRS_RRn.js";import"./index-BjHeA2GT.js";import"./formatPrice-DC00fQPP.js";const{TextArea:_}=i,k=()=>{const{control:n,getValues:p}=g(),{userData:a}=x.useContext(N),{setMyCourse:u,myCourse:o}=x.useContext(y),h=E(),j=async()=>{const s=p().EDITTEACHERPROFILE;console.log(s)},b=s=>{console.log(`selected ${s}`)},{data:c}=v(["GetTeacherAccount"],()=>F(a==null?void 0:a.id),{onSuccess:s=>{console.log(s.data.data)}},{enabled:!!(a!=null&&a.id)}),m=c==null?void 0:c.data.data,f=async s=>{const{data:t}=await T.get(`/api/courses/course/${s}/withouttoken`);return t},d=w(((m==null?void 0:m.courses)||[]).map(({id:s})=>({queryKey:["resource",s],queryFn:()=>f(s),enabled:!!s})));return u(d==null?void 0:d.map(s=>{var t;return(t=s==null?void 0:s.data)==null?void 0:t.data}).filter(s=>s!==void 0)),e.jsxs("div",{className:"py-7",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col justify-between sm:mb-16 mb-10 gap-4",children:[e.jsxs("div",{className:"flex sm:gap-5 gap-3",children:[e.jsx("img",{className:"sm:w-[142px] sm:h-[146px] w-[80px] h-[80px] rounded-full",src:a!=null&&a.profile_img?a==null?void 0:a.profile_img:C,alt:"Ilmlar o'qituvchisi rasmi"}),e.jsxs("div",{className:"flex flex-col justify-center sm:gap-1 gap-0.5 py-0",children:[e.jsxs("h1",{className:"text-main_color font-semibold sm:text-xl text-base mb-0",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),e.jsx("p",{className:"text-[#758195] sm:text-base text-xs font-medium",children:a==null?void 0:a.email}),e.jsxs("p",{className:"text-[#758195] sm:text-base text-xs font-semibold",children:["Username:"," ",e.jsx("span",{className:"font-normal",children:a==null?void 0:a.user_name})]})]})]}),e.jsx("div",{className:"sm:w-auto w-full",children:e.jsx("button",{onClick:()=>h("/upload-course"),className:"btn text-sm sm:p-[10px_30px] p-[8px_20px] w-full",children:"Kurs yuklash"})})]}),e.jsx("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px] sm:mb-16",children:e.jsx(l,{layout:"vertical",className:"sm:px-24 px-0 sm:pt-4 pt-2 pb-2 sm:pb-8 w-full",onSubmitCapture:s=>{s.preventDefault(),j()},children:e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"sm:col-span-1 col-span-2 grid grid-cols-2 gap-x-5",children:[e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Ism"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.firstname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Ismingizni kiriting...",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Familiya"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.lastname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Familiyangizni kiriting...",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Foydalanuvchi nomi"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.username",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(i,{...s,placeholder:"Foydalanuvchi nomi",className:"w-full py-2.5 px-4 rounded-[10px]"})})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Email"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.email",render:({field:s})=>e.jsx(i,{...s,type:"email",placeholder:"user@gmail.com",className:"w-full py-2.5 px-5 rounded-[10px]"})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Mutaxassislik"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.password",render:({field:s})=>e.jsx(I,{defaultValue:"lucy",...s,className:"w-full h-[40px] rounded-[10px]",onChange:b,options:[{value:"Dasturlash",label:"Dasturlash"},{value:"Dizayn",label:"Dizayn"},{value:"Biznes",label:"Biznes"},{value:"Fan va texnika",label:"Fan va texnika"},{value:"Shaxsiy rivojlanish",label:"Shaxsiy rivojlanish"}]})})}),e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Havola"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.link",render:({field:s})=>e.jsx(i,{...s,placeholder:"Havola",className:"w-full py-2.5 px-5 rounded-[10px]"})})})]}),e.jsxs("div",{className:"sm:col-span-1 col-span-2",children:[e.jsx(l.Item,{className:"sm:col-span-1 col-span-2",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"O’zingiz haqingizda ma’lumot"}),children:e.jsx(r,{rules:{required:"Field is required"},control:n,name:"EDITTEACHERPROFILE.firstname",render:({field:s})=>e.jsx(e.Fragment,{children:e.jsx(_,{...s,placeholder:"O’zingiz haqingizda ma’lumot yozing...",className:"text-base",style:{height:150,resize:"none"}})})})}),e.jsx("div",{children:e.jsx("button",{className:"btn text-sm p-[5px_25px]",children:"Profilni tahrirlash"})})]})]})})}),e.jsxs("div",{className:"relative mt-14 sm:mb-5 mb-10",children:[e.jsx("h1",{className:"title mb-8",children:"Kurslar"}),e.jsx("div",{className:"grid sm:grid-cols-4 grid-cols-1 justify-between w-full gap-5 gap-y-7",children:o==null?void 0:o.map(s=>e.jsx(R,{item:s,role:"teacher"},s.id))})]})]})};export{k as default};
