import{r as C,I as Ie,_ as oe,R as h,f as z,K as O,g as Fe,h as E,i as le,k as ne,p as He,l as $e,m as Ee,n as Me,o as Oe,C as De,q as Le,u as Ve,t as Ke,F as M,a as Te,s as Be,j as a,b as re,L as Pe,B as ie,v as ze,P as qe,w as Ge,G as We,c as Xe}from"./index-TMREzuzq.js";import{r as Ae}from"./right-D8bbfn_M.js";import{P as Ue}from"./index-BjHeA2GT.js";import{M as Qe}from"./index-CZhAqA9k.js";import"./fade-BJeY8MPX.js";var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},Je=function(s,r){return C.createElement(Ie,oe({},s,{ref:r,icon:Ye}))},Ze=C.forwardRef(Je);function ea(e,s){var r=e.disabled,t=e.prefixCls,i=e.character,p=e.characterRender,o=e.index,w=e.count,f=e.value,_=e.allowHalf,g=e.focused,k=e.onHover,v=e.onClick,j=function(R){k(R,o)},l=function(R){v(R,o)},c=function(R){R.keyCode===O.ENTER&&v(R,o)},m=o+1,d=new Set([t]);f===0&&o===0&&g?d.add("".concat(t,"-focused")):_&&f+.5>=m&&f<m?(d.add("".concat(t,"-half")),d.add("".concat(t,"-active")),g&&d.add("".concat(t,"-focused"))):(m<=f?d.add("".concat(t,"-full")):d.add("".concat(t,"-zero")),m===f&&g&&d.add("".concat(t,"-focused")));var u=typeof i=="function"?i(e):i,I=h.createElement("li",{className:z(Array.from(d)),ref:s},h.createElement("div",{onClick:r?null:l,onKeyDown:r?null:c,onMouseMove:r?null:j,role:"radio","aria-checked":f>o?"true":"false","aria-posinset":o+1,"aria-setsize":w,tabIndex:r?-1:0},h.createElement("div",{className:"".concat(t,"-first")},u),h.createElement("div",{className:"".concat(t,"-second")},u)));return p&&(I=p(I,e)),I}const aa=h.forwardRef(ea);function ta(){var e=C.useRef({});function s(t){return e.current[t]}function r(t){return function(i){e.current[t]=i}}return[s,r]}function sa(e){var s=e.pageXOffset,r="scrollLeft";if(typeof s!="number"){var t=e.document;s=t.documentElement[r],typeof s!="number"&&(s=t.body[r])}return s}function la(e){var s,r,t=e.ownerDocument,i=t.body,p=t&&t.documentElement,o=e.getBoundingClientRect();return s=o.left,r=o.top,s-=p.clientLeft||i.clientLeft||0,r-=p.clientTop||i.clientTop||0,{left:s,top:r}}function na(e){var s=la(e),r=e.ownerDocument,t=r.defaultView||r.parentWindow;return s.left+=sa(t),s.left}var ra=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function ia(e,s){var r=e.prefixCls,t=r===void 0?"rc-rate":r,i=e.className,p=e.defaultValue,o=e.value,w=e.count,f=w===void 0?5:w,_=e.allowHalf,g=_===void 0?!1:_,k=e.allowClear,v=k===void 0?!0:k,j=e.keyboard,l=j===void 0?!0:j,c=e.character,m=c===void 0?"â˜…":c,d=e.characterRender,u=e.disabled,I=e.direction,F=I===void 0?"ltr":I,R=e.tabIndex,ce=R===void 0?0:R,de=e.autoFocus,H=e.onHoverChange,D=e.onChange,L=e.onFocus,V=e.onBlur,K=e.onKeyDown,T=e.onMouseLeave,ue=Fe(e,ra),fe=ta(),q=E(fe,2),me=q[0],xe=q[1],B=h.useRef(null),G=function(){if(!u){var n;(n=B.current)===null||n===void 0||n.focus()}};h.useImperativeHandle(s,function(){return{focus:G,blur:function(){if(!u){var n;(n=B.current)===null||n===void 0||n.blur()}}}});var ve=le(p||0,{value:o}),W=E(ve,2),S=W[0],he=W[1],ge=le(null),X=E(ge,2),be=X[0],P=X[1],A=function(n,y){var x=F==="rtl",b=n+1;if(g){var ae=me(n),te=na(ae),se=ae.clientWidth;(x&&y-te>se/2||!x&&y-te<se/2)&&(b-=.5)}return b},$=function(n){he(n),D==null||D(n)},pe=h.useState(!1),U=E(pe,2),je=U[0],Q=U[1],Ne=function(){Q(!0),L==null||L()},ye=function(){Q(!1),V==null||V()},we=h.useState(null),Y=E(we,2),J=Y[0],Z=Y[1],Se=function(n,y){var x=A(y,n.pageX);x!==be&&(Z(x),P(null)),H==null||H(x)},ee=function(n){u||(Z(null),P(null),H==null||H(void 0)),n&&(T==null||T(n))},Ce=function(n,y){var x=A(y,n.pageX),b=!1;v&&(b=x===S),ee(),$(b?0:x),P(b?x:null)},Re=function(n){var y=n.keyCode,x=F==="rtl",b=g?.5:1;l&&(y===O.RIGHT&&S<f&&!x?($(S+b),n.preventDefault()):y===O.LEFT&&S>0&&!x||y===O.RIGHT&&S>0&&x?($(S-b),n.preventDefault()):y===O.LEFT&&S<f&&x&&($(S+b),n.preventDefault())),K==null||K(n)};h.useEffect(function(){de&&!u&&G()},[]);var _e=new Array(f).fill(0).map(function(N,n){return h.createElement(aa,{ref:xe(n),index:n,count:f,disabled:u,prefixCls:"".concat(t,"-star"),allowHalf:g,value:J===null?S:J,onClick:Ce,onHover:Se,key:N||n,character:m,characterRender:d,focused:je})}),ke=z(t,i,ne(ne({},"".concat(t,"-disabled"),u),"".concat(t,"-rtl"),F==="rtl"));return h.createElement("ul",oe({className:ke,onMouseLeave:ee,tabIndex:u?-1:ce,onFocus:u?null:Ne,onBlur:u?null:ye,onKeyDown:u?null:Re,ref:B,role:"radiogroup"},He(ue,{aria:!0,data:!0,attr:!0})),_e)}const oa=h.forwardRef(ia),ca=e=>{const{componentCls:s}=e;return{[`${s}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${Oe(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${s}-star-first, &-half ${s}-star-second`]:{opacity:1},[`&-half ${s}-star-first, &-full ${s}-star-second`]:{color:"inherit"}}}},da=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),ua=e=>{const{componentCls:s}=e;return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},Me(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${s} ${s}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),ca(e)),da(e))}},fa=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}),ma=$e("Rate",e=>{const s=Ee(e,{});return[ua(s)]},fa);var xa=function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)s.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const va=C.forwardRef((e,s)=>{const{prefixCls:r,className:t,rootClassName:i,style:p,tooltips:o,character:w=C.createElement(Ze,null)}=e,f=xa(e,["prefixCls","className","rootClassName","style","tooltips","character"]),_=(u,I)=>{let{index:F}=I;return o?C.createElement(Le,{title:o[F]},u):u},{getPrefixCls:g,direction:k,rate:v}=C.useContext(De),j=g("rate",r),[l,c,m]=ma(j),d=Object.assign(Object.assign({},v==null?void 0:v.style),p);return l(C.createElement(oa,Object.assign({ref:s,character:w,characterRender:_},f,{className:z(t,i,c,m,v==null?void 0:v.className),style:d,prefixCls:j,direction:k})))}),{TextArea:ha}=ze,ya=()=>{const e=Ve(),s=Ke(),[r]=M.useForm(),{id:t}=Te(),{name:i}=s.state||{},[p,o]=C.useState(!1),[w,f]=Be.useMessage(),_=()=>{o(!0)},g=()=>{o(!1)},k=()=>{o(!1)},v=async m=>{try{await qe(t,{text:m.feedback}),await Ge(t,{score:m.rating}),o(!1),w.open({type:"info",content:a.jsx("h1",{className:"text-lg",children:"Fikr bildirganingiz uchun tashakkur!"})}),r.resetFields()}catch(d){console.error("Error in handleSubmit:",d)}};C.useEffect(()=>{i==="buy"&&w.open({type:"info",content:a.jsx("h1",{className:"text-lg",children:"Kurs muvaffaqqiyatli sotib olindi!"})})},[i,w]);const{data:j}=re(["GetCourseDetail"],()=>We(t)),l=j==null?void 0:j.data.data,{data:c}=re(["GetTeacherAccountId",l==null?void 0:l.teacher_id],()=>Xe(l==null?void 0:l.teacher_id));return a.jsx(a.Fragment,{children:(l==null?void 0:l.is_purchased)&&a.jsxs("div",{className:"py-7",children:[f,a.jsxs("div",{onClick:()=>e(-1),className:"inline-flex items-center sm:gap-3 gap-1 cursor-pointer font-medium",children:[a.jsx("i",{className:"fa-solid fa-arrow-left sm:text-base text-xs"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Ortga qaytish"})]}),a.jsx("div",{className:"sm:pb-20 sm:pt-12 pt-5 pb-10",children:a.jsxs("div",{className:"col-span-1 flex flex-col justify-between",children:[a.jsxs("div",{className:"",children:[a.jsx("h1",{className:"sm:text-5xl text-xl font-semibold sm:pb-8 pb-5",children:l==null?void 0:l.name}),a.jsxs("h4",{className:"sm:text-xl text-sm sm:mb-10 mb-5",children:["Kurs muallifi:"," ",a.jsxs(Pe,{to:`/teacher-profile/${c==null?void 0:c.data.data.id}`,className:"sm:text-2xl text-base font-semibold border-b-2 border-black",children:[c==null?void 0:c.data.data.first_name," ",c==null?void 0:c.data.data.last_name]})]})]}),a.jsxs("div",{className:"flex items-center sm:gap-10 gap-2 mb-6 w-full",children:[a.jsxs("div",{className:"flex items-center sm:gap-3 gap-1 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-solid fa-star text-[#DF742EFF]"}),a.jsx("p",{className:"font-normal",children:Number(l==null?void 0:l.average_score).toFixed(1)})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-solid fa-comments"}),a.jsxs("p",{className:"font-normal",children:[l==null?void 0:l.commits.length," ta sharh"]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-regular fa-circle-check text-blue_color"}),a.jsxs("p",{className:"font-normal",children:[l==null?void 0:l.purchased_count," ta o'quvchi"]})]})]}),a.jsxs("div",{className:"flex justify-between sm:items-center items-start sm:flex-row flex-col gap-4",children:[a.jsx(Ue,{height:"25px",className:"bar_container sm:w-[35%] w-full",completed:80}),a.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[a.jsx("i",{className:"sm:text-xl text-base text-blue_color fa-solid fa-clock"}),a.jsx("p",{className:"sm:text-lg text-sm font-medium text-[#758195]",children:"5 oy 3 kun 4 soat"})]})]})]})}),a.jsxs("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px] sm:mb-16 mb-6",children:[a.jsx("h2",{className:"sm:text-3xl text-xl text-main_color font-semibold sm:mb-6 mb-2",children:"Kurs haqida qisqacha"}),a.jsx("p",{className:"sm:text-xl sm:leading-8 text-sm",children:l==null?void 0:l.discription})]}),a.jsxs("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px]",children:[a.jsx("h2",{className:"sm:text-3xl text-xl text-main_color font-semibold sm:mb-6 mb-2",children:"Video darslar"}),a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[a.jsx("i",{className:"fa-solid fa-book"}),a.jsxs("p",{className:"text-[#1B1D20] font-normal sm:text-base text-sm",children:[l==null?void 0:l.videos.length," ta video dars"]})]})}),a.jsx("div",{className:"w-full",children:l==null?void 0:l.videos.map((m,d)=>a.jsxs("di",{className:"border-dotted accordion-trigger flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center sm:gap-3 gap-1",children:[a.jsx("img",{className:"sm:w-[20px] w-[15px]",src:Ae,alt:""}),a.jsx("p",{children:m==null?void 0:m.title})]}),a.jsx("button",{className:"text-blue_color font-medium sm:text-xl text-xs",children:"Ko'rish"})]},d))})]}),a.jsxs("div",{className:"flex justify-end items-center sm:mb-5 mb-[35px] sm:mt-10 mt-4 sm:gap-5 gap-3",children:[a.jsxs("div",{onClick:()=>e(-1),className:"btn inline-flex items-center sm:gap-3 gap-2 cursor-pointer sm:p-[10px_20px] p-[5px_15px]",children:[a.jsx("i",{className:"fa-solid fa-share-nodes"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Ulashish"})]}),a.jsxs("div",{onClick:_,className:"btn inline-flex items-center sm:gap-3 gap-2 cursor-pointer sm:p-[10px_20px] p-[5px_15px]",children:[a.jsx("i",{className:"fa-regular fa-face-rolling-eyes"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Baholash"})]})]}),a.jsx(Qe,{open:p,title:a.jsx("div",{className:"text-xl",children:"Kursga baho berish!"}),onOk:g,onCancel:k,footer:[a.jsx(ie,{type:"primary",onClick:g,children:"Tasdiqlash"},"submit")],children:a.jsx("div",{className:"flex justify-center items-center my-5",children:a.jsxs(M,{form:r,onFinish:v,layout:"vertical",className:"w-full max-w-md",children:[a.jsx(M.Item,{name:"rating",label:"Kursni baholang",rules:[{required:!0,message:"Iltimos, reyting bering!"}],children:a.jsx(va,{className:"text-3xl"})}),a.jsx(M.Item,{name:"feedback",label:"Fikringiz",rules:[{required:!0,message:"Iltimos, fikringizni yozing!"},{min:3,message:"Fikringiz kamida 3 belgidan iborat bo'lishi kerak!"}],children:a.jsx(ha,{placeholder:"Ushbu kurs haqida qanday fikrdasiz? U sizga mos keldimi?",className:"text-base",style:{height:120,resize:"none"}})}),a.jsx(M.Item,{children:a.jsx(ie,{type:"primary",htmlType:"submit",className:"w-full",children:"Yuborish"})})]})})})]})})};export{ya as default};
