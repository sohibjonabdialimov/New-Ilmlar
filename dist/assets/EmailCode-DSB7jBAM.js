import{R as f,f as T,A as G,u as J,l as Q,j as r,F as W,L as X,k as Y,m as Z}from"./index-DjJz4vr4.js";var R=function(n){return typeof n=="object"&&n!==null},$=function(n){var m=n.value,h=m===void 0?"":m,v=n.numInputs,s=v===void 0?4:v,D=n.onChange,I=n.onPaste,l=n.renderInput,d=n.shouldAutoFocus,_=d===void 0?!1:d,E=n.inputType,S=E===void 0?"text":E,C=n.renderSeparator,g=n.placeholder,x=n.containerStyle,y=n.inputStyle,F=n.skipDefaultStyles,V=F===void 0?!1:F,O=f.useState(0),i=O[0],w=O[1],p=f.useRef([]),b=function(){return h?h.toString().split(""):[]},A=S==="number"||S==="tel";f.useEffect(function(){p.current=p.current.slice(0,s)},[s]),f.useEffect(function(){var e;_&&((e=p.current[0])===null||e===void 0||e.focus())},[_]);var L=function(){if(typeof g=="string"){if(g.length===s)return g;g.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},P=function(e){var t=A?!isNaN(Number(e)):typeof e=="string";return t&&e.trim().length===1},q=function(e){var t=e.target.value;P(t)&&(N(t),c(i+1))},B=function(e){var t=e.nativeEvent,a=e.target.value;if(!P(a)){if(a.length===s){var o=a.split("").some(function(u){return!P(u)});o||(k(a.split("")),c(s-1))}t.data===null&&t.inputType==="deleteContentBackward"&&(e.preventDefault(),N(""),c(i-1)),e.target.value=""}},K=function(e){return function(t){w(t),e.target.select()}},z=function(){w(i-1)},M=function(e){var t=b();[e.code,e.key].includes("Backspace")?(e.preventDefault(),N(""),c(i-1)):e.code==="Delete"?(e.preventDefault(),N("")):e.code==="ArrowLeft"?(e.preventDefault(),c(i-1)):e.code==="ArrowRight"||e.key===t[i]?(e.preventDefault(),c(i+1)):(e.code==="Spacebar"||e.code==="Space"||e.code==="ArrowUp"||e.code==="ArrowDown")&&e.preventDefault()},c=function(e){var t,a,o=Math.max(Math.min(s-1,e),0);p.current[o]&&((t=p.current[o])===null||t===void 0||t.focus(),(a=p.current[o])===null||a===void 0||a.select(),w(o))},N=function(e){var t=b();t[i]=e[0],k(t)},k=function(e){var t=e.join("");D(t)},U=function(e){var t;e.preventDefault();var a=b(),o=i,u=e.clipboardData.getData("text/plain").slice(0,s-i).split("");if(!(A&&u.some(function(H){return isNaN(Number(H))}))){for(var j=0;j<s;++j)j>=i&&u.length>0&&(a[j]=(t=u.shift())!==null&&t!==void 0?t:"",o++);c(o),k(a)}};return f.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},R(x)&&x),className:typeof x=="string"?x:void 0,onPaste:I},Array.from({length:s},function(e,t){return t}).map(function(e){var t,a,o;return f.createElement(f.Fragment,{key:e},l({value:(t=b()[e])!==null&&t!==void 0?t:"",placeholder:(o=(a=L())===null||a===void 0?void 0:a[e])!==null&&o!==void 0?o:void 0,ref:function(u){return p.current[e]=u},onChange:q,onFocus:function(u){return K(u)(e)},onBlur:z,onKeyDown:M,onPaste:U,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(V?{}:{width:"1em",textAlign:"center"},R(y)?y:{}),className:typeof y=="string"?y:void 0,type:S,inputMode:A?"numeric":"text",onInput:B},e),e<s-1&&(typeof C=="function"?C(e):C))}))};const te=()=>{const[n,m]=T.useState(""),{email:h}=T.useContext(G),v=J(),s=Q(),D=l=>{m(l)},I=()=>{Z({email:h,password:n}).then(l=>{var d;console.log(l),v("/login",{state:{name:(d=s.state)==null?void 0:d.name}})})};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"grid grid-cols-12 p-6 w-full gap-6 min-h-[100dvh]",children:[r.jsx("div",{className:"sm:col-span-6 col-span-12 sm:mx-[60px] flex justify-center items-center",children:r.jsxs(W,{layout:"vertical",className:"register_form sm:px-24 px-10 sm:pt-4 sm:pb-8 auth_form w-full text-center",onSubmitCapture:l=>{l.preventDefault(),I()},children:[r.jsx("h1",{className:"text-main_color sm:text-[30px] text-2xl sm:leading-[38px] font-semibold text-center mb-3",children:"Raqamingizni tasdiqlang"}),r.jsx("h3",{className:"text-secondary_color sm:text-xl text-sm font-medium sm:mb-10 mb-5",children:"Emailingizga yuborilgan 4 xonali raqamni kiriting"}),r.jsxs("div",{className:"grid grid-cols-1 sm:gap-10 gap-3",children:[r.jsx($,{value:n,onChange:D,numInputs:6,isInputNum:!0,shouldAutoFocus:!0,inputStyle:"otp-input",containerStyle:"otp-input-container",renderInput:l=>r.jsx("input",{className:"select-none",...l})}),r.jsx("button",{type:"submit",className:"w-full my-[10px] sm:text-base text-sm sm:py-2 py-1.5 text-white rounded-2xl bg-blue_color cursor-pointer transition-opacity hover:opacity-85",children:"Kirish"}),r.jsxs("p",{className:"text-center text-secondary_color text-sm font-normal",children:["Shaxsiy sahifangiz bormi?"," ",r.jsx(X,{className:"cursor-pointer font-medium text-blue_color",to:"/login",children:"Kirish"})]})]})]})}),r.jsx("div",{className:"sm:block hidden auth_img col-span-6",children:r.jsx("img",{className:"",src:Y,alt:""})})]})})};export{te as default};
