import{r as t,A as R,aw as K,s as O,b as P,j as e,ax as T,ay as z,F as a,D as n,w as r,az as M,aA as G,aB as L}from"./index-DWW8--kq.js";import{t as A}from"./teacher_avatar-BnTJq1H-.js";import{S as u,f as h,N as f,a as j}from"./free-mode-DwGsCj8I.js";import{N as F}from"./NewCourseCard-DcP29lFU.js";import{T as H}from"./TeachersGroupCard-BzN74bkQ.js";import"./profile-CJRS_RRn.js";import"./index-BtCkUpiw.js";import"./formatPrice-DC00fQPP.js";const Q=[{id:1,name:"Kurs nomi 1"},{id:2,name:"Kurs nomi 2"},{id:3,name:"Kurs nomi 3"},{id:4,name:"Kurs nomi 4"},{id:5,name:"Kurs nomi 5"},{id:6,name:"Kurs nomi 6"},{id:7,name:"Kurs nomi 6"},{id:8,name:"Kurs nomi 6"},{id:9,name:"Kurs nomi 6"}],ee=()=>{var g,y;const[I,b]=t.useState(!1),{control:i,getValues:_}=R(),{userData:s}=t.useContext(K),[w,S]=t.useState(null),o=t.useRef(null),[N,k]=O.useMessage(),B=()=>{o.current&&o.current.click()},C=l=>{const v=l.target.files[0];v&&M({file:v}).then(p=>{S(p.data.data.courseId.profile_img),N.open({type:"info",content:"Rasm o'zgartirildi"})}).catch(p=>{console.log(p),N.open({type:"error",content:"Rasm yuklashda xatolik bor"})})},E=()=>{b(!0)},V=()=>{b(!1)},q=async()=>{const l=_().EDITPROFILE;console.log(l)},{data:m}=P(["GetPurchasedCourses"],G),{data:c}=P(["GetSavedCourses"],L);let d=m==null?void 0:m.data.data,x=c==null?void 0:c.data.data;return e.jsxs("div",{className:"py-7",children:[k,e.jsxs("div",{className:"flex sm:flex-row flex-col justify-between sm:mb-16 mb-0",children:[e.jsxs("div",{className:"sm:w-[78%] w-full",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col items-center sm:gap-5 gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{className:"sm:w-[142px] sm:h-[142px] object-cover w-[90px] h-[90px] rounded-full",src:w||(s!=null&&s.profile_img?s==null?void 0:s.profile_img:A),alt:""}),e.jsx("div",{onClick:B,className:"border rounded-3xl translate-x-1/2 right-1/2 p-[4px_5px] inline-block absolute -bottom-3 text-xs text-white bg-[#262C36FF] cursor-pointer",children:"O'zgartirish"}),e.jsx("input",{type:"file",ref:o,className:"hidden",onChange:C})]}),e.jsxs("div",{className:"flex justify-between flex-col items-center sm:items-start py-1",children:[e.jsxs("h1",{className:"text-main_color font-semibold text-xl mb-1",children:[s==null?void 0:s.first_name," ",s!=null&&s.last_name?s==null?void 0:s.last_name:""," ",s!=null&&s.middle_name?s==null?void 0:s.middle_name:""]}),e.jsxs("p",{className:"text-base font-semibold",children:["Foydalanuvchi nomi:"," ",e.jsx("span",{className:"font-normal",children:s==null?void 0:s.user_name})]}),e.jsxs("p",{className:"text-base font-semibold",children:["Email: ",e.jsx("span",{className:"font-normal",children:s==null?void 0:s.email})]}),e.jsxs("p",{className:"text-base font-semibold",children:["Sotib olgan kurslaringiz soni:"," ",e.jsx("span",{className:"font-normal",children:"2 ta"})]})]})]}),e.jsx("div",{className:"sm:mt-5 mt-2 flex sm:justify-start justify-center items-center",children:e.jsx("button",{onClick:E,className:"btn text-sm sm:p-[10px_30px] p-[8px_20px]",children:"Profilni tahrirlash"})})]}),e.jsxs("div",{className:"relative h-full sm:w-[22%] w-full sm:block hidden",children:[e.jsx("img",{className:"aspect-[25/16] h-full w-full",src:T,alt:"Student's Plastic card"}),e.jsxs("p",{className:"absolute bottom-20 left-5 font-medium text-xl text-white",children:[(g=s==null?void 0:s.amount)!=null&&g.balance?(y=s==null?void 0:s.amount)==null?void 0:y.balance:0," UZS"]}),e.jsx("p",{className:"absolute bottom-3 left-3 text-base text-white",children:s==null?void 0:s.payment_id})]})]}),e.jsxs("div",{className:"relative mt-14 mb-14",children:[e.jsx("h1",{className:"title absolute top-0",children:"Sotib olingan kurslar"}),e.jsx(u,{slidesPerView:1.5,spaceBetween:16,navigation:!0,breakpoints:{640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:16}},freeMode:!0,modules:[h,f],className:"mySwiper",children:d==null?void 0:d.map(l=>e.jsx(j,{children:e.jsx(F,{item:l,buy:!0,type:!0})},l.id))})]}),e.jsxs("div",{className:"relative mt-14 mb-14",children:[e.jsx("h1",{className:"title absolute top-0",children:"Saqlangan kurslar"}),e.jsx(u,{slidesPerView:1.5,spaceBetween:16,navigation:!0,freeMode:!0,breakpoints:{640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:16}},modules:[h,f],className:"mySwiper",children:x==null?void 0:x.map(l=>e.jsx(j,{className:"",children:e.jsx(F,{item:l})},l.id))})]}),e.jsxs("div",{className:"relative mt-14 sm:mb-5 mb-10",children:[e.jsx("h1",{className:"title absolute top-0",children:"Obunalar"}),e.jsx(u,{slidesPerView:2,spaceBetween:15,navigation:!0,freeMode:!0,breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:4,spaceBetween:24},1024:{slidesPerView:5,spaceBetween:24},1440:{slidesPerView:6,spaceBetween:24}},modules:[h,f],className:"mySwiper",children:Q.map(l=>e.jsx(j,{className:"",children:e.jsx(H,{})},l.id))})]}),e.jsx(z,{title:"Profilni tahrirlash",onClose:V,open:I,children:e.jsx(a,{layout:"vertical",className:"w-full",onSubmitCapture:l=>{l.preventDefault(),q()},children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx(a.Item,{label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Ism"}),children:e.jsx(n,{rules:{required:"Field is required"},control:i,name:"EDITPROFILE.firstname",render:({field:l})=>e.jsx(e.Fragment,{children:e.jsx(r,{...l,placeholder:"Ismingizni kiriting...",className:"w-full py-3 px-4 rounded-[10px]"})})})}),e.jsx(a.Item,{label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Familiya"}),children:e.jsx(n,{rules:{required:"Field is required"},control:i,name:"EDITPROFILE.lastname",render:({field:l})=>e.jsx(e.Fragment,{children:e.jsx(r,{...l,placeholder:"Familiyangizni kiriting...",className:"w-full py-3 px-4 rounded-[10px]"})})})}),e.jsx(a.Item,{label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Foydalanuvchi nomi"}),children:e.jsx(n,{rules:{required:"Field is required"},control:i,name:"EDITPROFILE.username",render:({field:l})=>e.jsx(e.Fragment,{children:e.jsx(r,{...l,placeholder:"Foydalanuvchi nomini kiriting...",className:"w-full py-3 px-4 rounded-[10px]"})})})}),e.jsx(a.Item,{className:"",label:e.jsx("span",{className:"text-secondary_color font-semibold text-base",children:"Email"}),children:e.jsx(n,{rules:{required:"Field is required"},control:i,name:"EDITPROFILE.email",render:({field:l})=>e.jsx(r,{...l,type:"email",placeholder:"email@gmail.com",className:"w-full py-3 px-5 rounded-[10px]"})})}),e.jsx("button",{type:"submit",className:"w-full text-base py-2 text-white rounded-2xl bg-blue_color cursor-pointer transition-opacity hover:opacity-85",children:"Saqlash"})]})})})]})};export{ee as default};
