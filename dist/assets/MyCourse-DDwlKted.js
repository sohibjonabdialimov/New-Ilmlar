import{r as S,I as Ie,_ as oe,R as h,k as P,K as O,l as Fe,m as E,n as le,o as ne,p as He,q as $e,t as Ee,v as Me,w as Oe,C as De,x as Le,u as Ve,F as M,a as Ke,s as Te,L as ze,b as re,e as Be,j as a,y as Pe,B as ie,z as qe,A as Ge,E as Ae,c as We}from"./index-nGmmVK93.js";import{r as Xe}from"./right-D8bbfn_M.js";import{M as Ue}from"./index-BQWuz6_F.js";import"./fade-r1r5xnc5.js";var Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},Ye=function(s,n){return S.createElement(Ie,oe({},s,{ref:n,icon:Qe}))},Je=S.forwardRef(Ye);function Ze(e,s){var n=e.disabled,t=e.prefixCls,i=e.character,p=e.characterRender,c=e.index,R=e.count,m=e.value,_=e.allowHalf,g=e.focused,k=e.onHover,v=e.onClick,j=function(C){k(C,c)},l=function(C){v(C,c)},d=function(C){C.keyCode===O.ENTER&&v(C,c)},o=c+1,u=new Set([t]);m===0&&c===0&&g?u.add("".concat(t,"-focused")):_&&m+.5>=o&&m<o?(u.add("".concat(t,"-half")),u.add("".concat(t,"-active")),g&&u.add("".concat(t,"-focused"))):(o<=m?u.add("".concat(t,"-full")):u.add("".concat(t,"-zero")),o===m&&g&&u.add("".concat(t,"-focused")));var f=typeof i=="function"?i(e):i,I=h.createElement("li",{className:P(Array.from(u)),ref:s},h.createElement("div",{onClick:n?null:l,onKeyDown:n?null:d,onMouseMove:n?null:j,role:"radio","aria-checked":m>c?"true":"false","aria-posinset":c+1,"aria-setsize":R,tabIndex:n?-1:0},h.createElement("div",{className:"".concat(t,"-first")},f),h.createElement("div",{className:"".concat(t,"-second")},f)));return p&&(I=p(I,e)),I}const ea=h.forwardRef(Ze);function aa(){var e=S.useRef({});function s(t){return e.current[t]}function n(t){return function(i){e.current[t]=i}}return[s,n]}function ta(e){var s=e.pageXOffset,n="scrollLeft";if(typeof s!="number"){var t=e.document;s=t.documentElement[n],typeof s!="number"&&(s=t.body[n])}return s}function sa(e){var s,n,t=e.ownerDocument,i=t.body,p=t&&t.documentElement,c=e.getBoundingClientRect();return s=c.left,n=c.top,s-=p.clientLeft||i.clientLeft||0,n-=p.clientTop||i.clientTop||0,{left:s,top:n}}function la(e){var s=sa(e),n=e.ownerDocument,t=n.defaultView||n.parentWindow;return s.left+=ta(t),s.left}var na=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function ra(e,s){var n=e.prefixCls,t=n===void 0?"rc-rate":n,i=e.className,p=e.defaultValue,c=e.value,R=e.count,m=R===void 0?5:R,_=e.allowHalf,g=_===void 0?!1:_,k=e.allowClear,v=k===void 0?!0:k,j=e.keyboard,l=j===void 0?!0:j,d=e.character,o=d===void 0?"â˜…":d,u=e.characterRender,f=e.disabled,I=e.direction,F=I===void 0?"ltr":I,C=e.tabIndex,ce=C===void 0?0:C,de=e.autoFocus,H=e.onHoverChange,D=e.onChange,L=e.onFocus,V=e.onBlur,K=e.onKeyDown,T=e.onMouseLeave,ue=Fe(e,na),fe=aa(),q=E(fe,2),me=q[0],xe=q[1],z=h.useRef(null),G=function(){if(!f){var r;(r=z.current)===null||r===void 0||r.focus()}};h.useImperativeHandle(s,function(){return{focus:G,blur:function(){if(!f){var r;(r=z.current)===null||r===void 0||r.blur()}}}});var ve=le(p||0,{value:c}),A=E(ve,2),w=A[0],he=A[1],ge=le(null),W=E(ge,2),be=W[0],B=W[1],X=function(r,y){var x=F==="rtl",b=r+1;if(g){var ae=me(r),te=la(ae),se=ae.clientWidth;(x&&y-te>se/2||!x&&y-te<se/2)&&(b-=.5)}return b},$=function(r){he(r),D==null||D(r)},pe=h.useState(!1),U=E(pe,2),je=U[0],Q=U[1],Ne=function(){Q(!0),L==null||L()},ye=function(){Q(!1),V==null||V()},we=h.useState(null),Y=E(we,2),J=Y[0],Z=Y[1],Se=function(r,y){var x=X(y,r.pageX);x!==be&&(Z(x),B(null)),H==null||H(x)},ee=function(r){f||(Z(null),B(null),H==null||H(void 0)),r&&(T==null||T(r))},Ce=function(r,y){var x=X(y,r.pageX),b=!1;v&&(b=x===w),ee(),$(b?0:x),B(b?x:null)},Re=function(r){var y=r.keyCode,x=F==="rtl",b=g?.5:1;l&&(y===O.RIGHT&&w<m&&!x?($(w+b),r.preventDefault()):y===O.LEFT&&w>0&&!x||y===O.RIGHT&&w>0&&x?($(w-b),r.preventDefault()):y===O.LEFT&&w<m&&x&&($(w+b),r.preventDefault())),K==null||K(r)};h.useEffect(function(){de&&!f&&G()},[]);var _e=new Array(m).fill(0).map(function(N,r){return h.createElement(ea,{ref:xe(r),index:r,count:m,disabled:f,prefixCls:"".concat(t,"-star"),allowHalf:g,value:J===null?w:J,onClick:Ce,onHover:Se,key:N||r,character:o,characterRender:u,focused:je})}),ke=P(t,i,ne(ne({},"".concat(t,"-disabled"),f),"".concat(t,"-rtl"),F==="rtl"));return h.createElement("ul",oe({className:ke,onMouseLeave:ee,tabIndex:f?-1:ce,onFocus:f?null:Ne,onBlur:f?null:ye,onKeyDown:f?null:Re,ref:z,role:"radiogroup"},He(ue,{aria:!0,data:!0,attr:!0})),_e)}const ia=h.forwardRef(ra),oa=e=>{const{componentCls:s}=e;return{[`${s}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${Oe(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${s}-star-first, &-half ${s}-star-second`]:{opacity:1},[`&-half ${s}-star-first, &-full ${s}-star-second`]:{color:"inherit"}}}},ca=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),da=e=>{const{componentCls:s}=e;return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},Me(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${s} ${s}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),oa(e)),ca(e))}},ua=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}),fa=$e("Rate",e=>{const s=Ee(e,{});return[da(s)]},ua);var ma=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)s.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n};const xa=S.forwardRef((e,s)=>{const{prefixCls:n,className:t,rootClassName:i,style:p,tooltips:c,character:R=S.createElement(Je,null)}=e,m=ma(e,["prefixCls","className","rootClassName","style","tooltips","character"]),_=(f,I)=>{let{index:F}=I;return c?S.createElement(Le,{title:c[F]},f):f},{getPrefixCls:g,direction:k,rate:v}=S.useContext(De),j=g("rate",n),[l,d,o]=fa(j),u=Object.assign(Object.assign({},v==null?void 0:v.style),p);return l(S.createElement(ia,Object.assign({ref:s,character:R,characterRender:_},m,{className:P(t,i,d,o,v==null?void 0:v.className),style:u,prefixCls:j,direction:k})))}),{TextArea:va}=qe,ja=()=>{const e=Ve(),[s]=M.useForm(),{id:n}=Ke(),[t,i]=S.useState(!1),[p,c]=Te.useMessage(),{courseId:R,setCourseId:m}=S.useContext(ze),_=()=>{i(!0)},g=()=>{i(!1)},k=()=>{i(!1)},v=async o=>{try{await Ge(n,{text:o.feedback}),await Ae(n,{score:o.rating}),i(!1),p.open({type:"info",content:a.jsx("h1",{className:"text-lg",children:"Fikr bildirganingiz uchun tashakkur!"})}),s.resetFields()}catch(u){console.error("Error in handleSubmit:",u)}},{data:j}=re(["GetCourseDetail"],()=>We(n),{enabled:!!n,onSuccess(o){m(o.data.data.id),localStorage.setItem("courseId",o.data.data.id)}}),l=j==null?void 0:j.data.data,{data:d}=re(["GetTeacherAccount",l==null?void 0:l.teacher_id],()=>Be(l==null?void 0:l.teacher_id),{enabled:!!(l!=null&&l.teacher_id)});return a.jsx(a.Fragment,{children:(l==null?void 0:l.is_purchased)&&a.jsxs("div",{className:"py-7",children:[c,a.jsxs("div",{onClick:()=>e(-1),className:"inline-flex items-center sm:gap-3 gap-1 cursor-pointer font-medium",children:[a.jsx("i",{className:"fa-solid fa-arrow-left sm:text-base text-xs"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Ortga qaytish"})]}),a.jsx("div",{className:"sm:pb-20 sm:pt-12 pt-5 pb-10",children:a.jsxs("div",{className:"col-span-1 flex flex-col justify-between",children:[a.jsxs("div",{className:"",children:[a.jsx("h1",{className:"sm:text-5xl text-xl font-semibold sm:pb-8 pb-5",children:l==null?void 0:l.name}),a.jsxs("h4",{className:"sm:text-xl text-sm sm:mb-10 mb-5",children:["Kurs muallifi:"," ",a.jsxs(Pe,{to:`/teacher-profile/${d==null?void 0:d.data.data.id}`,className:"sm:text-2xl text-base font-semibold border-b-2 border-black",children:[d==null?void 0:d.data.data.first_name," ",d==null?void 0:d.data.data.last_name]})]})]}),a.jsxs("div",{className:"flex items-center sm:gap-10 gap-2 mb-0 w-full",children:[a.jsxs("div",{className:"flex items-center sm:gap-3 gap-1 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-solid fa-star text-[#DF742EFF]"}),a.jsx("p",{className:"font-normal",children:Number(l==null?void 0:l.average_score).toFixed(1)})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-solid fa-comments"}),a.jsxs("p",{className:"font-normal",children:[l==null?void 0:l.commits.length," ta sharh"]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:text-base text-sm",children:[a.jsx("i",{className:"fa-regular fa-circle-check text-blue_color"}),a.jsxs("p",{className:"font-normal",children:[l==null?void 0:l.purchased_count," ta o'quvchi"]})]})]})]})}),a.jsxs("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px] sm:mb-16 mb-6",children:[a.jsx("h2",{className:"sm:text-3xl text-xl text-main_color font-semibold sm:mb-6 mb-2",children:"Kurs haqida qisqacha"}),a.jsx("p",{className:"sm:text-xl sm:leading-8 text-sm",children:l==null?void 0:l.discription})]}),a.jsxs("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px]",children:[a.jsx("h2",{className:"sm:text-3xl text-xl text-main_color font-semibold sm:mb-6 mb-2",children:"Video darslar"}),a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[a.jsx("i",{className:"fa-solid fa-book"}),a.jsxs("p",{className:"text-[#1B1D20] font-normal sm:text-base text-sm",children:[l==null?void 0:l.videos.length," ta video dars"]})]})}),a.jsx("div",{className:"w-full",children:l==null?void 0:l.videos.map((o,u)=>a.jsxs("di",{className:"border-dotted accordion-trigger flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center sm:gap-3 gap-1",children:[a.jsx("img",{className:"sm:w-[20px] w-[15px]",src:Xe,alt:""}),a.jsx("p",{children:o==null?void 0:o.title})]}),a.jsx("button",{onClick:()=>e(`/courses/${R}/lesson/${o==null?void 0:o.id}`),className:"text-blue_color font-medium sm:text-xl text-xs",children:"Ko'rish"})]},u))})]}),a.jsxs("div",{className:"flex justify-end items-center sm:mb-5 mb-[35px] sm:mt-10 mt-4 sm:gap-5 gap-3",children:[a.jsxs("div",{className:"btn inline-flex items-center sm:gap-3 gap-2 cursor-pointer sm:p-[10px_20px] p-[5px_15px]",children:[a.jsx("i",{className:"fa-solid fa-share-nodes"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Ulashish"})]}),a.jsxs("div",{onClick:_,className:"btn inline-flex items-center sm:gap-3 gap-2 cursor-pointer sm:p-[10px_20px] p-[5px_15px]",children:[a.jsx("i",{className:"fa-regular fa-face-rolling-eyes"}),a.jsx("button",{className:"sm:text-lg text-sm",children:"Baholash"})]})]}),a.jsx(Ue,{open:t,title:a.jsx("div",{className:"text-xl",children:"Kursga baho berish!"}),onOk:g,onCancel:k,footer:[a.jsx(ie,{type:"primary",onClick:g,children:"Tasdiqlash"},"submit")],children:a.jsx("div",{className:"flex justify-center items-center my-5",children:a.jsxs(M,{form:s,onFinish:v,layout:"vertical",className:"w-full max-w-md",children:[a.jsx(M.Item,{name:"rating",label:"Kursni baholang",rules:[{required:!0,message:"Iltimos, reyting bering!"}],children:a.jsx(xa,{className:"text-3xl"})}),a.jsx(M.Item,{name:"feedback",label:"Fikringiz",rules:[{required:!0,message:"Iltimos, fikringizni yozing!"},{min:3,message:"Fikringiz kamida 3 belgidan iborat bo'lishi kerak!"}],children:a.jsx(va,{placeholder:"Ushbu kurs haqida qanday fikrdasiz? U sizga mos keldimi?",className:"text-base",style:{height:120,resize:"none"}})}),a.jsx(M.Item,{children:a.jsx(ie,{type:"primary",htmlType:"submit",className:"w-full",children:"Yuborish"})})]})})})]})})};export{ja as default};
