import{_ as y,Q as w,n as O,d as g,r as Q,S as j,R as v,e as N,f as R,a as M,b as _,j as n,g as S,h as E}from"./index-DjJz4vr4.js";import{t as C}from"./teacher_profile-DAjus8lk.js";import{S as q,f as H,N as P,a as U}from"./free-mode-Dnb7zVz3.js";import{N as B}from"./NewCourseCard-ByZKkjXn.js";import"./index-DDQv8502.js";var k=function(m){y(c,m);function c(o,t){var e;return e=m.call(this)||this,e.client=o,e.queries=[],e.result=[],e.observers=[],e.observersMap={},t&&e.setQueries(t),e}var r=c.prototype;return r.onSubscribe=function(){var t=this;this.listeners.length===1&&this.observers.forEach(function(e){e.subscribe(function(a){t.onUpdate(e,a)})})},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.destroy=function(){this.listeners=[],this.observers.forEach(function(t){t.destroy()})},r.setQueries=function(t,e){this.queries=t,this.updateObservers(e)},r.getCurrentResult=function(){return this.result},r.getOptimisticResult=function(t){return this.findMatchingObservers(t).map(function(e){return e.observer.getOptimisticResult(e.defaultedQueryOptions)})},r.findMatchingObservers=function(t){var e=this,a=this.observers,s=t.map(function(l){return e.client.defaultQueryObserverOptions(l)}),i=s.flatMap(function(l){var d=a.find(function(b){return b.options.queryHash===l.queryHash});return d!=null?[{defaultedQueryOptions:l,observer:d}]:[]}),p=i.map(function(l){return l.defaultedQueryOptions.queryHash}),f=s.filter(function(l){return!p.includes(l.queryHash)}),x=a.filter(function(l){return!i.some(function(d){return d.observer===l})}),u=f.map(function(l,d){if(l.keepPreviousData){var b=x[d];if(b!==void 0)return{defaultedQueryOptions:l,observer:b}}return{defaultedQueryOptions:l,observer:e.getObserver(l)}}),h=function(d,b){return s.indexOf(d.defaultedQueryOptions)-s.indexOf(b.defaultedQueryOptions)};return i.concat(u).sort(h)},r.getObserver=function(t){var e=this.client.defaultQueryObserverOptions(t),a=this.observersMap[e.queryHash];return a??new w(this.client,e)},r.updateObservers=function(t){var e=this;O.batch(function(){var a=e.observers,s=e.findMatchingObservers(e.queries);s.forEach(function(u){return u.observer.setOptions(u.defaultedQueryOptions,t)});var i=s.map(function(u){return u.observer}),p=Object.fromEntries(i.map(function(u){return[u.options.queryHash,u]})),f=i.map(function(u){return u.getCurrentResult()}),x=i.some(function(u,h){return u!==a[h]});a.length===i.length&&!x||(e.observers=i,e.observersMap=p,e.result=f,e.hasListeners()&&(g(a,i).forEach(function(u){u.destroy()}),g(i,a).forEach(function(u){u.subscribe(function(h){e.onUpdate(u,h)})}),e.notify()))})},r.onUpdate=function(t,e){var a=this.observers.indexOf(t);a!==-1&&(this.result=Q(this.result,a,e),this.notify())},r.notify=function(){var t=this;O.batch(function(){t.listeners.forEach(function(e){e(t.result)})})},c}(j);function T(m){var c=v.useRef(!1),r=v.useState(0),o=r[1],t=N(),e=R.useMemo(function(){return m.map(function(p){var f=t.defaultQueryObserverOptions(p);return f.optimisticResults=!0,f})},[m,t]),a=v.useState(function(){return new k(t,e)}),s=a[0],i=s.getOptimisticResult(e);return v.useEffect(function(){c.current=!0;var p=s.subscribe(O.batchCalls(function(){c.current&&o(function(f){return f+1})}));return function(){c.current=!1,p()}},[s]),v.useEffect(function(){s.setQueries(e,{listeners:!1})},[e,s]),i}const z=()=>{var a;const{id:m}=M(),{data:c}=_(["GetTeacherAccount"],()=>E(m),{onSuccess:s=>{console.log(s)}}),r=(a=c==null?void 0:c.data)==null?void 0:a.data;console.log(r);const o=async s=>{const{data:i}=await S.get(`/api/courses/course/${s}/withouttoken`);return i},t=T(((r==null?void 0:r.courses)||[]).map(({id:s})=>({queryKey:["resource",s],queryFn:()=>o(s),enabled:!!s}))),e=t==null?void 0:t.map(s=>{var i;return(i=s==null?void 0:s.data)==null?void 0:i.data}).filter(s=>s!==void 0);return console.log(e),n.jsxs("div",{className:"py-7",children:[n.jsxs("div",{className:"flex justify-between sm:flex-row flex-col gap-5 mb-16",children:[n.jsxs("div",{className:"flex items-center sm:gap-5 gap-3",children:[n.jsx("img",{className:"sm:w-[142px] sm:h-[146px] w-[84px] h-[102px] sm:rounded-3xl rounded-[8px] object-cover",src:C,alt:""}),n.jsxs("div",{className:"flex gap-1.5 justify-between flex-col",children:[n.jsxs("h1",{className:"text-main_color font-semibold sm:text-xl text-base mb-1",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),n.jsx("p",{className:"text-[#758195] sm:text-base text-xs font-medium",children:"Qisqa bio Lorem, ipsum dolor."}),n.jsxs("p",{className:"text-[#758195] sm:text-base text-xs font-semibold",children:["Kurslar soni:"," ",n.jsxs("span",{className:"font-normal",children:[r==null?void 0:r.courses.length," ta"]})]}),n.jsxs("p",{className:"text-[#758195] sm:text-base text-xs font-semibold",children:["Obunachilar soni: ",n.jsx("span",{className:"font-normal",children:"159 ta"})]})]})]}),n.jsx("div",{className:"sm:w-auto w-full",children:n.jsx("button",{className:"btn text-sm sm:p-[10px_30px] p-[8px_20px] w-full",children:"Obuna bo'ling"})})]}),n.jsxs("div",{className:"sm:p-6 p-4 bg-[#f1f2f466] rounded-[16px] sm:mb-16 mb-6",children:[n.jsx("h2",{className:"sm:text-3xl text-lg text-main_color font-semibold sm:mb-6 mb-2",children:"O’qituvchi haqida ma’lumot"}),n.jsx("p",{className:"sm:text-xl sm:leading-8 text-sm",children:"Explore Auto Layout in Figma, starting with horizontal, vertical, and wrap layouts. Manage padding, gaps, and alignment, and use constraints like fixed, hug, and fill for optimal sizing. Design navigation bars, top bars, headings, cards, and lists for mobile, tablet, and desktop. This course prepares you to create scalable and adaptable UI designs..."})]}),n.jsxs("div",{className:"relative mt-14 sm:mb-5 mb-10",children:[n.jsx("h1",{className:"title absolute top-0",children:"Kurslar"}),n.jsx(q,{slidesPerView:1.5,spaceBetween:16,navigation:!0,breakpoints:{640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:16}},freeMode:!0,modules:[H,P],className:"mySwiper",children:e.map(s=>n.jsx(U,{className:"",children:n.jsx(B,{item:s})},s.id))})]})]})};export{z as default};
