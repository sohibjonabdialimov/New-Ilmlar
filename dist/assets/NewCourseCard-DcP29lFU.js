import{u,r as j,s as v,b as g,c as N,j as s,aM as b}from"./index-DWW8--kq.js";import{t as m}from"./profile-CJRS_RRn.js";import{P as _}from"./index-BtCkUpiw.js";import{f as t}from"./formatPrice-DC00fQPP.js";const w="data:image/svg+xml,%3csvg%20width='14'%20height='13'%20viewBox='0%200%2014%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.00003%2010.3333L3.08147%2012.7268L4.14687%208.2604L0.659668%205.27322L5.23669%204.90628L7.00003%200.666664L8.76343%204.90628L13.3404%205.27322L9.85323%208.2604L10.9186%2012.7268L7.00003%2010.3333Z'%20fill='%23D97008'/%3e%3c/svg%3e",S=({type:d,role:l,item:a,buy:x})=>{const r=u(),[h,n]=j.useState(!1),[f,p]=v.useMessage(),i=o=>{b(o).then(c=>{console.log(c),c.data.data.action==="saved"&&n(!0),c.data.data.action==="not-saved"&&n(!1)}).catch(()=>{f.open({type:"error",content:s.jsx("h1",{className:"text-lg",children:"Kursni saqlash uchun avval ro'yxatdan o'ting!"})})})},{data:e}=g(["GetTeacherAccountId",a==null?void 0:a.teacher_id],()=>N(a==null?void 0:a.teacher_id),{enabled:!!(a!=null&&a.teacher_id)});return s.jsxs("div",{onClick:()=>r(x?`/my-course/${a==null?void 0:a.id}`:l==="teacher"?`/teacher-course-info/${a==null?void 0:a.id}`:`/courses/${a==null?void 0:a.id}`),className:"cursor-pointer",children:[p,s.jsx("img",{className:"w-full object-cover rounded-2xl h-[220px]",src:a==null?void 0:a.obloshka,alt:"ilmlar image of course"}),s.jsxs("div",{className:"flex items-center justify-between mt-3 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{className:"w-[13px] h-[12.4px] object-cover",src:w,alt:"Ilmlar yulduz"}),s.jsxs("p",{className:"font-normal text-[11px] leading-5 text-secondary_color",children:[Number(a==null?void 0:a.average_score).toFixed(1)," (30 sharhlar)"]})]}),s.jsx("p",{className:"font-normal text-[11px] leading-5 text-secondary_color",children:"120 oâ€™quvchi"})]}),s.jsx("h1",{className:"text-lg font-semibold text-main_color mb-2 line-clamp-2",children:a==null?void 0:a.name}),l!=="teacher"?s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e!=null&&e.data.data.profile_img?s.jsx("img",{className:"w-6 h-6 object-cover rounded-full",src:e==null?void 0:e.data.data.profile_img,alt:"Avatar ilmlar"}):s.jsx("img",{className:"w-6 h-6 object-cover rounded-full",src:m,alt:"Avatar ilmlar"}),s.jsxs("p",{className:"text-secondary_color text-sm font-normal",children:[e==null?void 0:e.data.data.first_name," ",e==null?void 0:e.data.data.last_name]})]}):s.jsxs("div",{children:[s.jsxs("p",{className:"text-base font-medium",children:["Active foydalanuvchilar:"," ",s.jsxs("span",{className:"font-normal",children:[a==null?void 0:a.active_users," ta"]})]}),s.jsxs("p",{className:"text-base font-medium",children:["Sotib olganlar:"," ",s.jsxs("span",{className:"font-normal",children:[a==null?void 0:a.purchased_count," ta"]})]})]}),d?s.jsx(_,{height:"18px",className:"bar_container",completed:70}):l==="teacher"?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-blue_color text-base font-semibold",children:[t(a==null?void 0:a.price)," so'm"]}),s.jsx("p",{className:"text-[#00FF84] text-base font-semibold",children:"Ommaviy"})]}):s.jsxs("div",{className:"flex items-center justify-between mr-4",children:[s.jsxs("p",{className:"text-blue_color text-base font-semibold",children:[t(a==null?void 0:a.price)," so'm"]}),s.jsx("div",{onClick:o=>{o.stopPropagation(),i(a==null?void 0:a.id)},className:"flex items-center gap-2",children:h?s.jsx("i",{className:"fa-solid fa-bookmark text-2xl"}):s.jsx("i",{className:"fa-regular fa-bookmark text-2xl"})})]})]})};export{S as N};
